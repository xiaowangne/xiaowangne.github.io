(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29577cb6"],{"10e8":function(t,a,o){},"131c":function(t,a,o){"use strict";o.r(a);var e=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"safety-page"},[o("van-nav-bar",{attrs:{title:"安全中心","left-text":"返回","right-text":"退出登录","left-arrow":""},on:{"click-right":t.exit,"click-left":function(a){return t.$router.go(-1)}}}),o("div",{staticClass:"content-box"},[o("van-button",{attrs:{type:"primary",block:""},on:{click:function(a){t.show=!0}}},[t._v("修改密码")]),o("van-action-sheet",{attrs:{title:"修改密码"},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}},[o("div",{staticClass:"content"},[o("van-field",{attrs:{type:"password",label:"旧密码",placeholder:"旧密码(6-16)位"},model:{value:t.oldPassword,callback:function(a){t.oldPassword=a},expression:"oldPassword"}}),o("van-field",{attrs:{type:"password",label:"新密码",placeholder:"新密码(6-16)位"},model:{value:t.newPassword,callback:function(a){t.newPassword=a},expression:"newPassword"}}),o("van-button",{attrs:{type:"primary",block:""},on:{click:t.changePassword}},[t._v("确认修改")])],1)]),o("van-button",{attrs:{type:"primary",block:""},on:{click:t.delClick}},[t._v("注销账号")])],1)],1)},s=[],n=(o("68ef"),o("a71a"),o("9d70"),o("3743"),o("4d75"),o("e3b3"),o("bc1b"),o("2fcb"),o("2241")),c={name:"Safety",data:function(){return{show:!1,oldPassword:null,newPassword:null}},methods:{changePassword:function(){var t=this,a=localStorage.getItem("__Tk"),o="";if(""!=this.oldPassword)if(""!=this.newPassword){var e=/^[a-zA-Z]\w{5,15}$/;e.test(this.newPassword)?(o=this.newPassword,this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/updatePassword",data:{appkey:this.appkey,tokenString:a,password:o,oldPassword:this.oldPassword}}).then((function(a){t.$toast.clear(),"E001"===a.data.code?(t.$toast(a.data.msg),t.$router.push({name:"Login"}),localStorage.clear()):t.$toast(a.data.msg)})).catch((function(a){t.$toast.clear()}))):this.$toast("新密码格式不正确")}else this.$toast("请输入新密码");else this.$toast("请输入旧密码")},delClick:function(){var t=this;n["a"].confirm({title:"账号注销",message:"是否注销账号"}).then((function(){var a=localStorage.getItem("__Tk");t.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),t.axios({method:"POST",url:"/destroyAccount",data:{appkey:t.appkey,tokenString:a}}).then((function(a){t.$toast.clear(),"G001"===a.data.code&&(t.$toast(a.data.msg),t.$router.push({name:"Login"}),localStorage.clear())})).catch((function(a){t.$toast.clear()}))})).catch((function(){}))},exit:function(){var t=this;n["a"].confirm({message:"请确认退出登录"}).then((function(){var a=localStorage.getItem("__Tk");t.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),t.axios({method:"POST",url:"/logout",data:{appkey:t.appkey,tokenString:a}}).then((function(a){t.$toast.clear(),"F001"===a.data.code&&(t.$toast(a.data.msg),t.$router.push({name:"Login"}),localStorage.clear())})).catch((function(a){t.$toast.clear()}))})).catch((function(){}))}}},r=c,i=(o("5f42"),o("2877")),l=Object(i["a"])(r,e,s,!1,null,"ea1c031c",null);a["default"]=l.exports},"5f42":function(t,a,o){"use strict";var e=o("10e8"),s=o.n(e);s.a}}]);
//# sourceMappingURL=chunk-29577cb6.a93b84fa.js.map