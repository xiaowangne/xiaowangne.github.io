(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b33626c"],{"35f6":function(t,a){t.exports="data:image/png;base64,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"},"88e1":function(t,a,e){},a434:function(t,a,e){"use strict";var s=e("23e7"),i=e("23cb"),r=e("a691"),n=e("50c4"),l=e("7b0b"),o=e("65f0"),c=e("8418"),u=e("1dde"),d=e("ae40"),A=u("splice"),g=d("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,p=Math.min,v=9007199254740991,f="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!A||!g},{splice:function(t,a){var e,s,u,d,A,g,m=l(this),C=n(m.length),E=i(t,C),O=arguments.length;if(0===O?e=s=0:1===O?(e=0,s=C-E):(e=O-2,s=p(h(r(a),0),C-E)),C+e-s>v)throw TypeError(f);for(u=o(m,s),d=0;d<s;d++)A=E+d,A in m&&c(u,d,m[A]);if(u.length=s,e<s){for(d=E;d<C-s;d++)A=d+s,g=d+e,A in m?m[g]=m[A]:delete m[g];for(d=C;d>C-s+e;d--)delete m[d-1]}else if(e>s)for(d=C-s;d>E;d--)A=d+s-1,g=d+e-1,A in m?m[g]=m[A]:delete m[g];for(d=0;d<e;d++)m[d+E]=arguments[d+2];return m.length=C-s+e,u}})},bc3b:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"order-page"},[t.isIf?s("div",[s("button",{staticClass:"vButton",on:{click:function(a){return t.goPage("Login")}}},[t._v("点我登录")])]):s("div",[s("van-tabs",{attrs:{animated:"",color:"#ffa200","title-active-color":"#f4a018",swipeable:""},on:{change:t.change},model:{value:t.active,callback:function(a){t.active=a},expression:"active"}},t._l(t.title,(function(a,i){return s("van-tab",{key:i,attrs:{title:a}},[s("div",{staticClass:"order-content"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isempty,expression:"isempty"}],staticClass:"empty"},[s("van-empty",{staticClass:"custom-image",attrs:{description:"暂时没有订单哦，逛一逛"},scopedSlots:t._u([{key:"image",fn:function(){return[s("div",[s("img",{attrs:{src:e("35f6"),alt:""}})])]},proxy:!0}],null,!0)},[s("van-button",{staticClass:"bottom-button",attrs:{type:"danger"},on:{click:function(a){return t.goPage("Menu")}}},[t._v("逛一逛")])],1)],1),t._l(t.allOrderData,(function(a,e){return s("div",{key:e,staticClass:"order"},[s("div",{staticClass:"order-title clearfix"},[s("span",{staticClass:"order-number fl"},[t._v("订单号:"+t._s(a[0].oid))]),s("span",{directives:[{name:"show",rawName:"v-show",value:1!=a[0].status,expression:"item[0].status!=1"}],staticClass:"del fr"},[s("van-icon",{attrs:{size:"18px",name:"delete"},on:{click:function(s){return t.delOder(a,e)}}})],1),s("span",{staticClass:"state fr"},[s("van-button",{directives:[{name:"show",rawName:"v-show",value:1==a[0].status,expression:"item[0].status==1"}],attrs:{type:"primary",size:"mini"},on:{click:function(s){return t.sureOrder(a,e)}}},[t._v("确认收货")]),s("span",{directives:[{name:"show",rawName:"v-show",value:2==a[0].status,expression:"item[0].status==2"}]},[t._v("已收货")])],1)]),t._l(a,(function(a,e){return s("van-card",{key:e,attrs:{num:a.count,desc:a.enname,thumb:a.smallImg},scopedSlots:t._u([{key:"title",fn:function(){return[s("div",{staticClass:"title-box clearfix"},[s("span",{staticClass:"title fl"},[t._v(t._s(a.name))]),s("span",{staticClass:"price fr"},[t._v("¥"+t._s(a.price))])])]},proxy:!0},{key:"price",fn:function(){return[s("span",{staticClass:"rules"},[t._v(t._s(a.rule))])]},proxy:!0}],null,!0)})})),s("div",{staticClass:"total-box clearfix"},[s("div",{staticClass:"fl"},[s("div",{staticClass:"timer"},[t._v(t._s(a[0].updatedAt))])]),s("div",{staticClass:"fr"},[s("span",{staticClass:"total-count"},[t._v(" 共计 "),s("span",{staticClass:"count"},[t._v(t._s(t.counts[e]))]),t._v(" 件商品 合计： ")]),s("span",{staticClass:"total"},[t._v("¥"+t._s(t.total[e]))])])])],2)}))],2)])})),1)],1)])},i=[],r=(e("a434"),e("5530")),n=(e("88e1"),e("2f62")),l={name:"Order",data:function(){return{isempty:!1,title:["全部","待收货","已收货"],active:null,allOrderData:[],oids:{},counts:[],total:[],isIf:!1}},computed:Object(r["a"])({},Object(n["d"])(["activeOrder"])),created:function(){this.active=this.activeOrder,this.getAllOrderData(this.active);var t=localStorage.getItem("__Tk");t||(this.isIf=!0)},methods:Object(r["a"])(Object(r["a"])({},Object(n["c"])(["changeData"])),{},{goPage:function(t){this.$router.push({name:t})},getAllOrderData:function(t){var a=this,e=localStorage.getItem("__Tk");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/findOrder",params:{appkey:this.appkey,tokenString:e,status:t}}).then((function(t){if(a.$toast.clear(),7e4===t.data.code){for(var e=0;e<t.data.result.length;e++)a.oids[t.data.result[e].oid]=1,t.data.result[e].updatedAt=a.dateTime(t.data.result[e].updatedAt);var s=0;for(var i in a.oids){var r=[];a.counts[s]=0,a.total[s]=0;for(var n=0;n<t.data.result.length;n++)i===t.data.result[n].oid&&(a.counts[s]+=t.data.result[n].count,a.total[s]+=t.data.result[n].count*t.data.result[n].price,r.push(t.data.result[n])),a.allOrderData[s]=r;a.total[s]=a.total[s]+".00",s++}a.isempty=!(a.allOrderData.length>0),a.$forceUpdate()}})).catch((function(t){a.$toast.clear()}))},change:function(t){this.allOrderData=[],this.counts=[],this.total=[],this.oids={},this.getAllOrderData(t),this.changeData({key:"activeOrder",value:t})},dateTime:function(t){var a=new Date(t),e=a.getFullYear(),s=a.getMonth()+1,i=a.getDate(),r=a.getHours(),n=a.getMinutes(),l=a.getSeconds(),o=e+"-";return s<10&&(o+="0"),o+=s+"-",i<10&&(o+="0"),o+=i+" ",r<10&&(o+="0"),o+=r+":",n<10&&(o+="0"),o+=n+":",l<10&&(o+="0"),o+=l,o},sureOrder:function(t,a){var e=this,s=localStorage.getItem("__Tk");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/receive",data:{appkey:this.appkey,tokenString:s,oid:t[0].oid}}).then((function(s){e.$toast.clear(),8e4===s.data.code&&(e.$toast(s.data.msg),1==e.active?(e.allOrderData.splice(a,1),e.isempty=!(e.allOrderData.length>0)):(t[0].status=2,e.$forceUpdate()))})).catch((function(t){e.$toast.clear()}))},delOder:function(t,a){var e=this,s=localStorage.getItem("__Tk");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/removeOrder",data:{appkey:this.appkey,tokenString:s,oid:t[0].oid}}).then((function(t){e.$toast.clear(),9e4===t.data.code&&(e.$toast(t.data.msg),e.allOrderData.splice(a,1),e.isempty=!(e.allOrderData.length>0))})).catch((function(t){e.$toast.clear()}))}})},o=l,c=e("2877"),u=Object(c["a"])(o,s,i,!1,null,null,null);a["default"]=u.exports}}]);
//# sourceMappingURL=chunk-6b33626c.430df405.js.map