(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b8c6fc42"],{2532:function(t,e,a){"use strict";var r=a("23e7"),n=a("5a34"),c=a("1d80"),o=a("ab13");r({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(c(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"2d3b":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-page"},[a("van-search",{attrs:{"show-action":"",placeholder:t.placeholder},on:{input:t.getData},scopedSlots:t._u([{key:"left",fn:function(){return[a("van-icon",{attrs:{name:"arrow-left"},on:{click:function(e){return t.$router.push({name:"Menu"})}}})]},proxy:!0},{key:"action",fn:function(){return[a("div",[a("van-button",{attrs:{type:"primary",size:"small"},on:{click:t.search}},[t._v("搜索")])],1)]},proxy:!0}]),model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}}),a("div",{staticClass:"search-content"},t._l(t.result,(function(e,r){return a("van-card",{key:r,attrs:{title:e.name,price:e.price,desc:e.enname,thumb:e.smallImg,"lazy-load":!0},on:{click:function(a){return t.goDetail(e.pid)}}})})),1)],1)},n=[],c=(a("caad"),a("d81d"),a("b0c0"),a("2532"),a("cc33"),{name:"Search",data:function(){return{placeholder:"",keywords:"",productData:[],productName:[],result:[]}},created:function(){this.getTypeData()},methods:{goDetail:function(t){this.$router.push({name:"Detail",query:{pid:t}})},getTypeData:function(){var t=this;this.axios({method:"GET",url:"/type",params:{appkey:this.appkey}}).then((function(e){if(400==e.data.code)for(var a=0;a<e.data.result.length;a++)t.getProductData(e.data.result[a].type)})).catch((function(t){}))},getProductData:function(t){var e=this;this.axios({method:"GET",url:"/typeProducts",params:{appkey:this.appkey,key:"type",value:t}}).then((function(t){if(500==t.data.code){for(var a=0;a<t.data.result.length;a++)e.productData.push(t.data.result[a]),e.productName.push(t.data.result[a].name);e.placeholder=e.productName[Math.floor(Math.random()*e.productName.length)]}})).catch((function(t){}))},search:function(){var t=this;this.result=[],""==this.keywords&&(this.keywords=this.placeholder),this.productName.map((function(e,a){e.includes(t.keywords)&&t.result.push(t.productData[a])}))},getData:function(){var t=this;this.result=[],""==this.keywords?(this.result=[],this.placeholder=this.productName[Math.floor(Math.random()*this.productName.length)]):this.productName.map((function(e,a){e.includes(t.keywords)&&t.result.push(t.productData[a])}))}}}),o=c,i=a("2877"),u=Object(i["a"])(o,r,n,!1,null,"2b2c9430",null);e["default"]=u.exports},"44e7":function(t,e,a){var r=a("861d"),n=a("c6b6"),c=a("b622"),o=c("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==n(t))}},"5a34":function(t,e,a){var r=a("44e7");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},ab13:function(t,e,a){var r=a("b622"),n=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[n]=!1,"/./"[t](e)}catch(r){}}return!1}},b0c0:function(t,e,a){var r=a("83ab"),n=a("9bf2").f,c=Function.prototype,o=c.toString,i=/^\s*function ([^ (]*)/,u="name";r&&!(u in c)&&n(c,u,{configurable:!0,get:function(){try{return o.call(this).match(i)[1]}catch(t){return""}}})},caad:function(t,e,a){"use strict";var r=a("23e7"),n=a("4d64").includes,c=a("44d2"),o=a("ae40"),i=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!i},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),c("includes")},cc33:function(t,e,a){},d81d:function(t,e,a){"use strict";var r=a("23e7"),n=a("b727").map,c=a("1dde"),o=a("ae40"),i=c("map"),u=o("map");r({target:"Array",proto:!0,forced:!i||!u},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-b8c6fc42.28662066.js.map